import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from collections import Counter
c1 = {38: 11272728, 41: 11200525, 40: 10962676, 42: 10855682, 43: 10688083, 44: 10662342, 39: 10207975, 45: 10117401, 36: 10049711, 37: 9918142, 46: 9768569, 47: 9441391, 48: 8997633, 49: 8407153, 50: 8194693, 35: 7930568, 51: 7646431, 34: 7293390, 52: 7200230, 53: 6835078, 54: 6339410, 55: 5945033, 33: 5757750, 56: 5675370, 57: 5238805, 58: 4915845, 59: 4688322, 60: 4506265, 61: 4316633, 32: 4152202, 62: 4103862, 63: 3817185, 64: 3550730, 31: 3498964, 65: 3355435, 66: 3059713, 67: 2839090, 68: 2688971, 30: 2630467, 69: 2518434, 70: 2253560, 29: 2213804, 71: 2116294, 72: 1990859, 73: 1775204, 28: 1705363, 25: 1612373, 27: 1521145, 74: 1493418, 75: 1145579, 26: 1058395, 22: 933046, 21: 855907, 24: 826712, 76: 816254, 77: 541369, 20: 454964, 23: 452157, 19: 434747, 15: 395058, 17: 386089, 14: 374024, 18: 328587, 78: 276872, 11: 247922, 16: 237715, 13: 215685, 12: 176851, 5: 126515, 4: 86893, 3: 82805, 1: 76542, 79: 76373, 2: 43971, 6: 26547, 7: 15119}
c2 = {48: 3852465, 38: 3777755, 37: 3766097, 40: 3702526, 41: 3410386, 43: 3131419, 35: 3010677, 44: 2915871, 45: 2686199, 51: 2592213, 46: 2538028, 47: 2284921, 53: 2128312, 54: 1865854, 58: 1748999, 33: 1709479, 49: 1692490, 55: 1665122, 50: 1528310, 56: 1451590, 60: 1348725, 57: 1316847, 63: 1300171, 30: 1276509, 61: 1214233, 52: 1157778, 66: 1130740, 62: 1130139, 65: 1042101, 27: 1028437, 59: 1021170, 23: 952641, 68: 894014, 70: 881049, 64: 867391, 67: 823800, 69: 744011, 71: 714665, 73: 678465, 72: 619690, 74: 605554, 75: 537251, 76: 493877, 77: 458258, 17: 412057, 78: 367813, 79: 313591, 7: 172217, 80: 7708}
c = Counter(c1)
c.update(c2)
c = dict(c)
#tensor(0.6674) - tensor(155.9930)
#c={60: 7543852, 62: 6541805, 63: 5602070, 65: 5544955, -2147483648: 5227749, 64: 4822949, 68: 4297565, 66: 4120523, 61: 3702526, 67: 3286090, 70: 3072648, 59: 3010677, 71: 2789175, 69: 2603291, 73: 2172841, 72: 2167562, 74: 1871346, 75: 1729656, 58: 1709479, 76: 1477772, 56: 1276509, 77: 1221395, 78: 1107062, 55: 1028437, 53: 952641, 79: 724807, 50: 412057, 46: 172217, 80: 7708}
df = pd.DataFrame(c.items(),columns=['value','frequency'])
df = df[df['value'] > 0]
df['prob'] = df['frequency'] / df['frequency'].sum()
df = df.sort_values('value')
print(df)
index = df.shape[0]
for i in range(80):
    if i not in list(df['value']):
        df.loc[index] = [i,0,0]
    index+=1
sns.lineplot(x='value',y='prob',data=df)
plt.savefig('depth-distributionp-test.png',dpi=200)
plt.show()
